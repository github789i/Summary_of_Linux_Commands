# nohupæŒ‡ä»¤

## 1. åå°è¿è¡Œ Python ç¨‹åº

```
nohup python main.py &
```

### ğŸ“Œ è§£é‡Š

- `&`ï¼šå°†å‘½ä»¤æ”¾åˆ°åå°æ‰§è¡Œ

- é»˜è®¤è¾“å‡ºä¼šå†™å…¥å½“å‰ç›®å½•ä¸‹çš„ï¼š

  ```
  nohup.out
  ```

------

##  2. åå°è¿è¡Œå¹¶å°†æ—¥å¿—å†™å…¥æŒ‡å®šæ–‡ä»¶

```
nohup python main-SEED.py > server_seed.txt 2>&1 &
```

### ğŸ“Œ è§£é‡Š

| éƒ¨åˆ†   | æ„ä¹‰                                 |
| ------ | ------------------------------------ |
| `>`    | å°†æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰é‡å®šå‘åˆ°æ–‡ä»¶     |
| `2>&1` | å°†æ ‡å‡†é”™è¯¯ï¼ˆstderrï¼‰é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º |
| `&`    | æ”¾åˆ°åå°æ‰§è¡Œ                         |

ğŸ“Œ æœ€ç»ˆï¼š**æ‰€æœ‰è¾“å‡ºï¼ˆstdout + stderrï¼‰éƒ½å†™åˆ° server_seed.txt ä¸­**

------

##  3. æŸ¥çœ‹åå°è¿è¡Œçš„è¿›ç¨‹

```
ps aux | grep main-SEED.py
```

### ğŸ“Œ è§£é‡Š

- `ps aux`ï¼šåˆ—å‡ºæ‰€æœ‰è¿›ç¨‹
- `grep main-SEED.py`ï¼šè¿‡æ»¤å‡ºæŒ‡å®š Python ç¨‹åº
- ç”¨äºæŸ¥æ‰¾å¯¹åº”çš„ `PID`ï¼ˆè¿›ç¨‹å·ï¼‰

------

##  4. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶

```
cat server.log
```

### ğŸ“Œ è¯´æ˜

- `cat`ï¼šç›´æ¥æ‰“å°æ—¥å¿—åˆ°ç»ˆç«¯

- å…¶ä»–æŸ¥çœ‹æ–¹å¼ï¼š

  ```
  tail -n 50 server.log       # æœ€å50è¡Œ
  tail -f server.log          # å®æ—¶æŸ¥çœ‹æ—¥å¿—(å¸¸ç”¨!)
  less server.log             # åˆ†é¡µæŸ¥çœ‹
  ```

------

##  5. ç»“æŸåå°è¿›ç¨‹

```
kill -9 PID
```

### ğŸ“Œ è§£é‡Š

- `kill -9`ï¼šå¼ºåˆ¶ç»“æŸè¿›ç¨‹ï¼ˆSIGKILLï¼‰

- æ›¿ä»£æ–¹å¼ï¼ˆæ›´å®‰å…¨ï¼‰ï¼š

  ```
  kill PID       # å‘é€ SIGTERMï¼Œæ­£å¸¸åœæ­¢è¿›ç¨‹
  kill -9 PID    # æ— æ³•æ­£å¸¸åœæ­¢æ—¶æ‰ç”¨è¿™ä¸ª
  ```

------

## è¡¥å……ï¼šåå°ç¨‹åºå¸¸ç”¨æŠ€å·§ï¼ˆå¾ˆæœ‰ç”¨ï¼‰

### **1. æŸ¥çœ‹å½“å‰åå°ä»»åŠ¡**

```
jobs -l
```

### **2. å°†å‰å°ä»»åŠ¡æŒ‚åˆ°åå°**

```
Ctrl + Z
bg
```

### **3. å°†åå°ä»»åŠ¡è½¬å›å‰å°**

```
fg %1
```

------

## nohup æœ€ä½³å®è·µç¤ºä¾‹

### **å¯åŠ¨ç¨‹åºå¹¶å®æ—¶å†™å…¥ log/seed.log**

```
nohup python main.py > log/seed.log 2>&1 &
```

### **ä¿å­˜ PIDï¼ˆæ–¹ä¾¿åœæ­¢ï¼‰**

```
echo $! > app.pid
```

åœæ­¢ï¼š

```
kill $(cat app.pid)
```